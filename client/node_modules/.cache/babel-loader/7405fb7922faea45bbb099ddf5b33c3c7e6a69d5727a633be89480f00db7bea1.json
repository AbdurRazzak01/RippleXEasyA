{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst DEFAULT_MIN = 100;\nconst DEFAULT_MAX = 1000;\nclass ExponentialBackoff {\n  constructor(opts = {}) {\n    var _a, _b;\n    this.factor = 2;\n    this.numAttempts = 0;\n    this.ms = (_a = opts.min) !== null && _a !== void 0 ? _a : DEFAULT_MIN;\n    this.max = (_b = opts.max) !== null && _b !== void 0 ? _b : DEFAULT_MAX;\n  }\n  get attempts() {\n    return this.numAttempts;\n  }\n  duration() {\n    const ms = this.ms * Math.pow(this.factor, this.numAttempts);\n    this.numAttempts += 1;\n    return Math.floor(Math.min(ms, this.max));\n  }\n  reset() {\n    this.numAttempts = 0;\n  }\n}\nexports.default = ExponentialBackoff;","map":{"version":3,"names":["DEFAULT_MIN","DEFAULT_MAX","ExponentialBackoff","constructor","opts","factor","numAttempts","ms","_a","min","max","_b","attempts","duration","Math","pow","floor","reset","exports","default"],"sources":["/Users/mdabdurrazzak/XRPL_React_App/node_modules/xrpl/src/client/ExponentialBackoff.ts"],"sourcesContent":["/*\n * Original code based on \"backo\" - https://github.com/segmentio/backo\n * MIT License - Copyright 2014 Segment.io\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy,\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software\n * is furnished to do so, subject to the following conditions:\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE\n * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\ninterface ExponentialBackoffOptions {\n  // The min backoff duration.\n  min?: number\n  // The max backoff duration.\n  max?: number\n}\n\nconst DEFAULT_MIN = 100\nconst DEFAULT_MAX = 1000\n\n/**\n * A Back off strategy that increases exponentially. Useful with repeated\n * setTimeout calls over a network (where the destination may be down).\n */\nexport default class ExponentialBackoff {\n  private readonly ms: number\n  private readonly max: number\n  private readonly factor: number = 2\n  private numAttempts = 0\n\n  /**\n   * Constructs an ExponentialBackoff object.\n   *\n   * @param opts - The options for the object.\n   */\n  public constructor(opts: ExponentialBackoffOptions = {}) {\n    this.ms = opts.min ?? DEFAULT_MIN\n    this.max = opts.max ?? DEFAULT_MAX\n  }\n\n  /**\n   * Number of attempts for backoff so far.\n   *\n   * @returns Number of attempts.\n   */\n  public get attempts(): number {\n    return this.numAttempts\n  }\n\n  /**\n   * Return the backoff duration.\n   *\n   * @returns The backoff duration in milliseconds.\n   */\n  public duration(): number {\n    const ms = this.ms * this.factor ** this.numAttempts\n    this.numAttempts += 1\n    return Math.floor(Math.min(ms, this.max))\n  }\n\n  /**\n   * Reset the number of attempts.\n   */\n  public reset(): void {\n    this.numAttempts = 0\n  }\n}\n"],"mappings":";;;;;AAqBA,MAAMA,WAAW,GAAG,GAAG;AACvB,MAAMC,WAAW,GAAG,IAAI;AAMxB,MAAqBC,kBAAkB;EAWrCC,YAAmBC,IAAA,GAAkC,EAAE;;IARtC,KAAAC,MAAM,GAAW,CAAC;IAC3B,KAAAC,WAAW,GAAG,CAAC;IAQrB,IAAI,CAACC,EAAE,GAAG,CAAAC,EAAA,GAAAJ,IAAI,CAACK,GAAG,cAAAD,EAAA,cAAAA,EAAA,GAAIR,WAAW;IACjC,IAAI,CAACU,GAAG,GAAG,CAAAC,EAAA,GAAAP,IAAI,CAACM,GAAG,cAAAC,EAAA,cAAAA,EAAA,GAAIV,WAAW;EACpC;EAOA,IAAWW,QAAQA,CAAA;IACjB,OAAO,IAAI,CAACN,WAAW;EACzB;EAOOO,QAAQA,CAAA;IACb,MAAMN,EAAE,GAAG,IAAI,CAACA,EAAE,GAAGO,IAAA,CAAAC,GAAA,KAAI,CAACV,MAAM,EAAI,IAAI,CAACC,WAAW;IACpD,IAAI,CAACA,WAAW,IAAI,CAAC;IACrB,OAAOQ,IAAI,CAACE,KAAK,CAACF,IAAI,CAACL,GAAG,CAACF,EAAE,EAAE,IAAI,CAACG,GAAG,CAAC,CAAC;EAC3C;EAKOO,KAAKA,CAAA;IACV,IAAI,CAACX,WAAW,GAAG,CAAC;EACtB;;AAzCFY,OAAA,CAAAC,OAAA,GAAAjB,kBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}